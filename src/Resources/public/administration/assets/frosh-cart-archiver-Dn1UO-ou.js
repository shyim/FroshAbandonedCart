const i=`{% block frosh_archived_carts_list %} <sw-page class="frosh-archived-carts-list"> {% block frosh_archived_carts_list_smart_bar_header %} <template #smart-bar-header> <h2>{{ $tc('frosh-archived-carts.list.title') }}</h2> </template> {% endblock %} {% block frosh_archived_carts_list_content %} <template #content> <sw-entity-listing v-if="archivedCarts" :repository="archivedCartRepository" :items="archivedCarts" :columns="columns" :isLoading="isLoading" :showSelection="false" :allowEdit="false" :allowDelete="false" :allowInlineEdit="false" detailRoute="frosh.archived.carts.detail" @page-change="onPageChange" > {% block frosh_archived_carts_list_column_customer %} <template #column-customer.email="{ item }"> {{ getCustomerName(item) }} </template> {% endblock %} {% block frosh_archived_carts_list_column_total_price %} <template #column-totalPrice="{ item }"> {{ formatPrice(item.totalPrice, item.currencyIsoCode) }} </template> {% endblock %} {% block frosh_archived_carts_list_column_sales_channel %} <template #column-salesChannel.name="{ item }"> {{ item.salesChannel ? item.salesChannel.name : '-' }} </template> {% endblock %} {% block frosh_archived_carts_list_column_created_at %} <template #column-createdAt="{ item }"> {{ item.createdAt | date({ hour: '2-digit', minute: '2-digit' }) }} </template> {% endblock %} </sw-entity-listing> </template> {% endblock %} </sw-page> {% endblock %}`,{Criteria:a}=Shopware.Data;Shopware.Component.register("frosh-archived-carts-list",{template:i,inject:["repositoryFactory"],data(){return{archivedCarts:null,isLoading:!0,total:0,page:1,limit:25}},computed:{archivedCartRepository(){return this.repositoryFactory.create("frosh_archived_cart")},columns(){return[{property:"customer.email",label:this.$tc("frosh-archived-carts.list.columnCustomer"),allowResize:!0,primary:!0},{property:"totalPrice",label:this.$tc("frosh-archived-carts.list.columnTotalPrice"),allowResize:!0},{property:"salesChannel.name",label:this.$tc("frosh-archived-carts.list.columnSalesChannel"),allowResize:!0},{property:"createdAt",label:this.$tc("frosh-archived-carts.list.columnCreatedAt"),allowResize:!0}]},criteria(){const e=new a(this.page,this.limit);return e.addAssociation("customer"),e.addAssociation("salesChannel"),e.addSorting(a.sort("createdAt","DESC")),e}},created(){this.loadArchivedCarts()},methods:{async loadArchivedCarts(){this.isLoading=!0;try{const e=await this.archivedCartRepository.search(this.criteria,Shopware.Context.api);this.archivedCarts=e,this.total=e.total}catch(e){console.error("Failed to load archived carts:",e)}finally{this.isLoading=!1}},onPageChange({page:e,limit:t}){this.page=e,this.limit=t,this.loadArchivedCarts()},getCustomerName(e){return e.customer?`${e.customer.firstName} ${e.customer.lastName} (${e.customer.email})`:"-"},formatPrice(e,t){return new Intl.NumberFormat("de-DE",{style:"currency",currency:t||"EUR"}).format(e)}}});const c=`{% block frosh_archived_carts_detail %} <sw-page class="frosh-archived-carts-detail"> {% block frosh_archived_carts_detail_smart_bar_header %} <template #smart-bar-header> <h2>{{ $tc('frosh-archived-carts.detail.title') }}</h2> </template> {% endblock %} {% block frosh_archived_carts_detail_smart_bar_actions %} <template #smart-bar-actions> <sw-button :routerLink="{ name: 'frosh.archived.carts.list' }" variant="ghost" > {{ $tc('global.default.cancel') }} </sw-button> </template> {% endblock %} {% block frosh_archived_carts_detail_content %} <template #content> <sw-card-view v-if="archivedCart"> {% block frosh_archived_carts_detail_card_info %} <sw-card :title="$tc('frosh-archived-carts.detail.cardTitleInfo')" :isLoading="isLoading"> <sw-container columns="1fr 1fr" gap="16px"> <sw-description-list> <dt>{{ $tc('frosh-archived-carts.detail.labelCustomer') }}</dt> <dd> <router-link v-if="archivedCart.customer" :to="{ name: 'sw.customer.detail', params: { id: archivedCart.customerId } }" > {{ getCustomerName() }} </router-link> <template v-else>-</template> </dd> <dt>{{ $tc('frosh-archived-carts.detail.labelSalesChannel') }}</dt> <dd>{{ archivedCart.salesChannel ? archivedCart.salesChannel.name : '-' }}</dd> </sw-description-list> <sw-description-list> <dt>{{ $tc('frosh-archived-carts.detail.labelTotalPrice') }}</dt> <dd>{{ formatPrice(archivedCart.totalPrice) }}</dd> <dt>{{ $tc('frosh-archived-carts.detail.labelCreatedAt') }}</dt> <dd>{{ archivedCart.createdAt | date({ hour: '2-digit', minute: '2-digit' }) }}</dd> </sw-description-list> </sw-container> </sw-card> {% endblock %} {% block frosh_archived_carts_detail_card_line_items %} <sw-card :title="$tc('frosh-archived-carts.detail.cardTitleLineItems')" :isLoading="isLoading"> <sw-data-grid v-if="archivedCart.lineItems && archivedCart.lineItems.length > 0" :dataSource="archivedCart.lineItems" :columns="lineItemColumns" :showSelection="false" :showActions="false" > {% block frosh_archived_carts_detail_line_items_column_label %} <template #column-label="{ item }"> <router-link v-if="item.productId" :to="{ name: 'sw.product.detail', params: { id: item.productId } }" > {{ getProductName(item) }} </router-link> <template v-else> {{ getProductName(item) }} </template> </template> {% endblock %} {% block frosh_archived_carts_detail_line_items_column_unit_price %} <template #column-unitPrice="{ item }"> {{ formatPrice(item.unitPrice) }} </template> {% endblock %} {% block frosh_archived_carts_detail_line_items_column_total_price %} <template #column-totalPrice="{ item }"> {{ formatPrice(item.totalPrice) }} </template> {% endblock %} </sw-data-grid> <sw-empty-state v-else :title="$tc('frosh-archived-carts.detail.unknownProduct')" /> </sw-card> {% endblock %} </sw-card-view> <sw-loader v-else /> </template> {% endblock %} </sw-page> {% endblock %}`,{Criteria:s}=Shopware.Data;Shopware.Component.register("frosh-archived-carts-detail",{template:c,inject:["repositoryFactory"],props:{archivedCartId:{type:String,required:!0}},data(){return{archivedCart:null,isLoading:!0}},computed:{archivedCartRepository(){return this.repositoryFactory.create("frosh_archived_cart")},criteria(){const e=new s;return e.addAssociation("customer"),e.addAssociation("salesChannel"),e.addAssociation("lineItems.product"),e},lineItemColumns(){return[{property:"label",label:this.$tc("frosh-archived-carts.detail.columnProduct"),allowResize:!0,primary:!0},{property:"quantity",label:this.$tc("frosh-archived-carts.detail.columnQuantity"),allowResize:!0,width:"100px"},{property:"unitPrice",label:this.$tc("frosh-archived-carts.detail.columnUnitPrice"),allowResize:!0,width:"150px"},{property:"totalPrice",label:this.$tc("frosh-archived-carts.detail.columnTotalPrice"),allowResize:!0,width:"150px"}]}},created(){this.loadArchivedCart()},methods:{async loadArchivedCart(){this.isLoading=!0;try{this.archivedCart=await this.archivedCartRepository.get(this.archivedCartId,Shopware.Context.api,this.criteria)}catch(e){console.error("Failed to load archived cart:",e)}finally{this.isLoading=!1}},getCustomerName(){var t;if(!((t=this.archivedCart)!=null&&t.customer))return"-";const e=this.archivedCart.customer;return`${e.firstName} ${e.lastName} (${e.email})`},formatPrice(e){var r;const t=((r=this.archivedCart)==null?void 0:r.currencyIsoCode)||"EUR";return new Intl.NumberFormat("de-DE",{style:"currency",currency:t}).format(e)},getProductName(e){var t;return e.product?((t=e.product.translated)==null?void 0:t.name)||e.product.name:e.label||this.$tc("frosh-archived-carts.detail.unknownProduct")}}});const l={"frosh-archived-carts":{general:{title:"Archivierte Warenkörbe",description:"Abgebrochene Warenkörbe von Kunden anzeigen"},list:{title:"Archivierte Warenkörbe",columnCustomer:"Kunde",columnTotalPrice:"Gesamtpreis",columnSalesChannel:"Verkaufskanal",columnCreatedAt:"Erstellt am",columnUpdatedAt:"Aktualisiert am"},detail:{title:"Archivierter Warenkorb Details",cardTitleInfo:"Warenkorb Informationen",cardTitleLineItems:"Positionen",labelCustomer:"Kunde",labelTotalPrice:"Gesamtpreis",labelSalesChannel:"Verkaufskanal",labelCreatedAt:"Erstellt am",columnProduct:"Produkt",columnQuantity:"Menge",columnUnitPrice:"Einzelpreis",columnTotalPrice:"Gesamtpreis",unknownProduct:"Unbekanntes Produkt"}}},o={"frosh-archived-carts":{general:{title:"Archived Carts",description:"View abandoned carts from customers"},list:{title:"Archived Carts",columnCustomer:"Customer",columnTotalPrice:"Total Price",columnSalesChannel:"Sales Channel",columnCreatedAt:"Created At",columnUpdatedAt:"Updated At"},detail:{title:"Archived Cart Details",cardTitleInfo:"Cart Information",cardTitleLineItems:"Line Items",labelCustomer:"Customer",labelTotalPrice:"Total Price",labelSalesChannel:"Sales Channel",labelCreatedAt:"Created At",columnProduct:"Product",columnQuantity:"Quantity",columnUnitPrice:"Unit Price",columnTotalPrice:"Total Price",unknownProduct:"Unknown Product"}}};Shopware.Module.register("frosh-archived-carts",{type:"plugin",name:"frosh-archived-carts",title:"frosh-archived-carts.general.title",description:"frosh-archived-carts.general.description",color:"#ff6b35",icon:"regular-shopping-cart",snippets:{"de-DE":l,"en-GB":o},routes:{list:{component:"frosh-archived-carts-list",path:"list"},detail:{component:"frosh-archived-carts-detail",path:"detail/:id",props:{default:e=>({archivedCartId:e.params.id})}}},navigation:[{label:"frosh-archived-carts.general.title",color:"#ff6b35",path:"frosh.archived.carts.list",icon:"regular-shopping-cart",parent:"sw-customer",position:100}]});
//# sourceMappingURL=frosh-cart-archiver-Dn1UO-ou.js.map
