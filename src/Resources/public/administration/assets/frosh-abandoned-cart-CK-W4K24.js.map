{"version":3,"file":"frosh-abandoned-cart-CK-W4K24.js","sources":["../../../app/administration/src/module/frosh-abandoned-carts/page/frosh-abandoned-carts-list/frosh-abandoned-carts-list.html.twig","../../../app/administration/src/module/frosh-abandoned-carts/page/frosh-abandoned-carts-list/index.js","../../../app/administration/src/module/frosh-abandoned-carts/page/frosh-abandoned-carts-detail/frosh-abandoned-carts-detail.html.twig","../../../app/administration/src/module/frosh-abandoned-carts/page/frosh-abandoned-carts-detail/index.js","../../../app/administration/src/module/frosh-abandoned-carts/page/frosh-abandoned-carts-statistics/frosh-abandoned-carts-statistics.html.twig","../../../app/administration/src/module/frosh-abandoned-carts/page/frosh-abandoned-carts-statistics/index.js","../../../app/administration/src/module/frosh-abandoned-carts/page/frosh-abandoned-carts-automation-list/frosh-abandoned-carts-automation-list.html.twig","../../../app/administration/src/module/frosh-abandoned-carts/page/frosh-abandoned-carts-automation-list/index.js","../../../app/administration/src/module/frosh-abandoned-carts/page/frosh-abandoned-carts-automation-detail/frosh-abandoned-carts-automation-detail.html.twig","../../../app/administration/src/module/frosh-abandoned-carts/page/frosh-abandoned-carts-automation-detail/index.js","../../../app/administration/src/module/frosh-abandoned-carts/acl/index.js","../../../app/administration/src/module/frosh-abandoned-carts/index.js","../../../app/administration/src/service/abandoned-cart-statistics.service.js","../../../app/administration/src/service/frosh-abandoned-cart-automation.api.service.js","../../../app/administration/src/main.js"],"sourcesContent":["{% block frosh_abandoned_carts_list %}\n<sw-page class=\"frosh-abandoned-carts-list\">\n    {% block frosh_abandoned_carts_list_smart_bar_header %}\n    <template #smart-bar-header>\n        <h2>\n            {{ $tc('frosh-abandoned-carts.list.title') }}\n            <span\n                v-if=\"!isLoading\"\n                class=\"sw-page__smart-bar-amount\"\n            >\n                ({{ total }})\n            </span>\n        </h2>\n    </template>\n    {% endblock %}\n\n    {% block frosh_abandoned_carts_list_content %}\n    <template #content>\n        <div class=\"frosh-abandoned-carts-list__content\">\n            {% block frosh_abandoned_carts_list_empty_state %}\n            <sw-empty-state\n                v-if=\"!isLoading && !total\"\n                :title=\"$tc('frosh-abandoned-carts.list.emptyStateTitle')\"\n            />\n            {% endblock %}\n\n            {% block frosh_abandoned_carts_list_grid %}\n            <sw-entity-listing\n                v-else\n                :repository=\"abandonedCartRepository\"\n                :items=\"abandonedCarts\"\n                :columns=\"columns\"\n                :isLoading=\"isLoading\"\n                :allowEdit=\"false\"\n                :allowDelete=\"false\"\n                :allowInlineEdit=\"false\"\n                :disableDataFetching=\"true\"\n                :sortBy=\"sortBy\"\n                :sortDirection=\"sortDirection\"\n                detailRoute=\"frosh.abandoned.carts.detail\"\n                @page-change=\"onPageChange\"\n                @column-sort=\"onSortColumn\"\n            >\n                {% block frosh_abandoned_carts_list_column_customer %}\n                <template #column-customer.email=\"{ item }\">\n                    <router-link\n                        :to=\"{ name: 'frosh.abandoned.carts.detail', params: { id: item.id } }\"\n                    >\n                        {{ getCustomerName(item) }}\n                    </router-link>\n                </template>\n                {% endblock %}\n\n                {% block frosh_abandoned_carts_list_column_total_price %}\n                <template #column-totalPrice=\"{ item }\">\n                    {{ formatPrice(item.totalPrice, item.currencyIsoCode) }}\n                </template>\n                {% endblock %}\n\n                {% block frosh_abandoned_carts_list_column_sales_channel %}\n                <template #column-salesChannel.name=\"{ item }\">\n                    {{ item.salesChannel ? item.salesChannel.name : '-' }}\n                </template>\n                {% endblock %}\n\n                {% block frosh_abandoned_carts_list_column_created_at %}\n                <template #column-createdAt=\"{ item }\">\n                    <sw-time-ago :date=\"item.createdAt\"/>\n                </template>\n                {% endblock %}\n            </sw-entity-listing>\n            {% endblock %}\n        </div>\n    </template>\n    {% endblock %}\n\n    {% block frosh_abandoned_carts_list_sidebar %}\n    <template #sidebar>\n        <sw-sidebar class=\"frosh-abandoned-carts-list__sidebar\">\n            {% block frosh_abandoned_carts_list_sidebar_refresh %}\n            <sw-sidebar-item\n                icon=\"regular-undo\"\n                :title=\"$tc('frosh-abandoned-carts.list.refresh')\"\n                @click=\"onRefresh\"\n            />\n            {% endblock %}\n\n            {% block frosh_abandoned_carts_list_sidebar_filter %}\n            <sw-sidebar-filter-panel\n                entity=\"frosh_abandoned_cart\"\n                :store-key=\"storeKey\"\n                :filters=\"listFilters\"\n                :defaults=\"defaultFilters\"\n                :active-filter-number=\"activeFilterNumber\"\n                @criteria-changed=\"updateCriteria\"\n            />\n            {% endblock %}\n        </sw-sidebar>\n    </template>\n    {% endblock %}\n</sw-page>\n{% endblock %}","import template from './frosh-abandoned-carts-list.html.twig';\n\nconst { Mixin } = Shopware;\nconst { Criteria } = Shopware.Data;\n\nShopware.Component.register('frosh-abandoned-carts-list', {\n    template,\n\n    inject: ['repositoryFactory', 'filterFactory'],\n\n    mixins: [Mixin.getByName('listing')],\n\n    data() {\n        return {\n            abandonedCarts: null,\n            isLoading: true,\n            sortBy: 'createdAt',\n            sortDirection: 'DESC',\n            filterCriteria: [],\n            defaultFilters: ['sales-channel-filter', 'customer-filter'],\n            storeKey: 'grid.filter.frosh_abandoned_cart',\n            activeFilterNumber: 0,\n        };\n    },\n\n    computed: {\n        abandonedCartRepository() {\n            return this.repositoryFactory.create('frosh_abandoned_cart');\n        },\n\n        columns() {\n            return [\n                {\n                    property: 'customer.email',\n                    label: this.$tc(\n                        'frosh-abandoned-carts.list.columnCustomer'\n                    ),\n                    allowResize: true,\n                    primary: true,\n                },\n                {\n                    property: 'totalPrice',\n                    label: this.$tc(\n                        'frosh-abandoned-carts.list.columnTotalPrice'\n                    ),\n                    allowResize: true,\n                },\n                {\n                    property: 'salesChannel.name',\n                    label: this.$tc(\n                        'frosh-abandoned-carts.list.columnSalesChannel'\n                    ),\n                    allowResize: true,\n                },\n                {\n                    property: 'createdAt',\n                    label: this.$tc(\n                        'frosh-abandoned-carts.list.columnCreatedAt'\n                    ),\n                    allowResize: true,\n                },\n            ];\n        },\n\n        listFilterOptions() {\n            return {\n                'sales-channel-filter': {\n                    property: 'salesChannel',\n                    label: this.$tc(\n                        'frosh-abandoned-carts.list.filterSalesChannel'\n                    ),\n                    placeholder: this.$tc(\n                        'frosh-abandoned-carts.list.filterSalesChannelPlaceholder'\n                    ),\n                },\n                'customer-filter': {\n                    property: 'customer',\n                    label: this.$tc(\n                        'frosh-abandoned-carts.list.filterCustomer'\n                    ),\n                    placeholder: this.$tc(\n                        'frosh-abandoned-carts.list.filterCustomerPlaceholder'\n                    ),\n                    labelProperty: 'email',\n                },\n            };\n        },\n\n        listFilters() {\n            return this.filterFactory.create(\n                'frosh_abandoned_cart',\n                this.listFilterOptions\n            );\n        },\n\n        defaultCriteria() {\n            const criteria = new Criteria(this.page, this.limit);\n            criteria.addAssociation('customer');\n            criteria.addAssociation('salesChannel');\n            criteria.addSorting(Criteria.sort(this.sortBy, this.sortDirection));\n\n            this.filterCriteria.forEach((filter) => {\n                criteria.addFilter(filter);\n            });\n\n            return criteria;\n        },\n    },\n\n    watch: {\n        defaultCriteria: {\n            handler() {\n                this.getList();\n            },\n            deep: true,\n        },\n    },\n\n    methods: {\n        async getList() {\n            this.isLoading = true;\n\n            try {\n                const criteria = await Shopware.Service(\n                    'filterService'\n                ).mergeWithStoredFilters(this.storeKey, this.defaultCriteria);\n\n                const result = await this.abandonedCartRepository.search(\n                    criteria,\n                    Shopware.Context.api\n                );\n                this.abandonedCarts = result;\n                this.total = result.total;\n            } catch (error) {\n                console.error('Failed to load abandoned carts:', error);\n            } finally {\n                this.isLoading = false;\n            }\n        },\n\n        updateCriteria(criteria) {\n            this.page = 1;\n            this.filterCriteria = criteria;\n            this.activeFilterNumber = criteria.length;\n        },\n\n        onRefresh() {\n            this.getList();\n        },\n\n        getCustomerName(item) {\n            if (!item.customer) {\n                return '-';\n            }\n            return `${item.customer.firstName} ${item.customer.lastName} (${item.customer.email})`;\n        },\n\n        formatPrice(price, currencyIsoCode) {\n            return new Intl.NumberFormat('de-DE', {\n                style: 'currency',\n                currency: currencyIsoCode || 'EUR',\n            }).format(price);\n        },\n    },\n});\n","{% block frosh_abandoned_carts_detail %}\n<sw-page class=\"frosh-abandoned-carts-detail\">\n    {% block frosh_abandoned_carts_detail_smart_bar_header %}\n    <template #smart-bar-header>\n        <h2>\n            {{ $tc('frosh-abandoned-carts.detail.title') }}\n        </h2>\n    </template>\n    {% endblock %}\n\n    {% block frosh_abandoned_carts_detail_smart_bar_actions %}\n    <template #smart-bar-actions>\n        <mt-button\n            variant=\"secondary\"\n            @click=\"$router.push({ name: 'frosh.abandoned.carts.list' })\"\n        >\n            {{ $tc('global.default.cancel') }}\n        </mt-button>\n    </template>\n    {% endblock %}\n\n    {% block frosh_abandoned_carts_detail_content %}\n    <template #content>\n        <sw-card-view v-if=\"abandonedCart\">\n            {% block frosh_abandoned_carts_detail_card_info %}\n            <sw-card\n                position-identifier=\"frosh-abandoned-carts-detail-info\"\n                :title=\"$tc('frosh-abandoned-carts.detail.cardTitleInfo')\"\n                :isLoading=\"isLoading\"\n            >\n                <sw-container\n                    columns=\"1fr 1fr\"\n                    gap=\"16px\"\n                >\n                    <sw-description-list>\n                        <dt>\n                            {{ $tc('frosh-abandoned-carts.detail.labelCustomer') }}\n                        </dt>\n                        <dd>\n                            <router-link\n                                v-if=\"abandonedCart.customer\"\n                                :to=\"{ name: 'sw.customer.detail', params: { id: abandonedCart.customerId } }\"\n                            >\n                                {{ getCustomerName() }}\n                            </router-link>\n                            <template v-else>-</template>\n                        </dd>\n                        <dt>\n                            {{ $tc('frosh-abandoned-carts.detail.labelSalesChannel') }}\n                        </dt>\n                        <dd>\n                            {{ abandonedCart.salesChannel ? abandonedCart.salesChannel.name : '-' }}\n                        </dd>\n                    </sw-description-list>\n                    <sw-description-list>\n                        <dt>\n                            {{ $tc('frosh-abandoned-carts.detail.labelTotalPrice') }}\n                        </dt>\n                        <dd>\n                            {{ formatPrice(abandonedCart.totalPrice) }}\n                        </dd>\n                        <dt>\n                            {{ $tc('frosh-abandoned-carts.detail.labelCreatedAt') }}\n                        </dt>\n                        <dd>\n                            <sw-time-ago :date=\"abandonedCart.createdAt\"/>\n                        </dd>\n                    </sw-description-list>\n                </sw-container>\n            </sw-card>\n            {% endblock %}\n\n            {% block frosh_abandoned_carts_detail_card_line_items %}\n            <sw-card\n                position-identifier=\"frosh-abandoned-carts-detail-line-items\"\n                :title=\"$tc('frosh-abandoned-carts.detail.cardTitleLineItems')\"\n                :isLoading=\"isLoading\"\n            >\n                <sw-data-grid\n                    v-if=\"abandonedCart.lineItems && abandonedCart.lineItems.length > 0\"\n                    :dataSource=\"abandonedCart.lineItems\"\n                    :columns=\"lineItemColumns\"\n                    :showSelection=\"false\"\n                    :showActions=\"false\"\n                >\n                    {% block frosh_abandoned_carts_detail_line_items_column_label %}\n                    <template #column-label=\"{ item }\">\n                        <router-link\n                            v-if=\"item.productId\"\n                            :to=\"{ name: 'sw.product.detail', params: { id: item.productId } }\"\n                        >\n                            {{ getProductName(item) }}\n                        </router-link>\n                        <template v-else>\n                            {{ getProductName(item) }}\n                        </template>\n                    </template>\n                    {% endblock %}\n\n                    {% block frosh_abandoned_carts_detail_line_items_column_unit_price %}\n                    <template #column-unitPrice=\"{ item }\">\n                        {{ formatPrice(item.unitPrice) }}\n                    </template>\n                    {% endblock %}\n\n                    {% block frosh_abandoned_carts_detail_line_items_column_total_price %}\n                    <template #column-totalPrice=\"{ item }\">\n                        {{ formatPrice(item.totalPrice) }}\n                    </template>\n                    {% endblock %}\n                </sw-data-grid>\n                <sw-empty-state\n                    v-else\n                    :title=\"$tc('frosh-abandoned-carts.detail.unknownProduct')\"\n                />\n            </sw-card>\n            {% endblock %}\n        </sw-card-view>\n        <sw-loader v-else/>\n    </template>\n    {% endblock %}\n</sw-page>\n{% endblock %}","import template from './frosh-abandoned-carts-detail.html.twig';\n\nconst { Criteria } = Shopware.Data;\n\nShopware.Component.register('frosh-abandoned-carts-detail', {\n    template,\n\n    inject: ['repositoryFactory'],\n\n    props: {\n        abandonedCartId: {\n            type: String,\n            required: true,\n        },\n    },\n\n    data() {\n        return {\n            abandonedCart: null,\n            isLoading: true,\n        };\n    },\n\n    computed: {\n        abandonedCartRepository() {\n            return this.repositoryFactory.create('frosh_abandoned_cart');\n        },\n\n        criteria() {\n            const criteria = new Criteria();\n            criteria.addAssociation('customer');\n            criteria.addAssociation('salesChannel');\n            criteria.addAssociation('lineItems.product');\n\n            return criteria;\n        },\n\n        lineItemColumns() {\n            return [\n                {\n                    property: 'label',\n                    label: this.$tc(\n                        'frosh-abandoned-carts.detail.columnProduct'\n                    ),\n                    allowResize: true,\n                    primary: true,\n                },\n                {\n                    property: 'quantity',\n                    label: this.$tc(\n                        'frosh-abandoned-carts.detail.columnQuantity'\n                    ),\n                    allowResize: true,\n                    width: '100px',\n                },\n                {\n                    property: 'unitPrice',\n                    label: this.$tc(\n                        'frosh-abandoned-carts.detail.columnUnitPrice'\n                    ),\n                    allowResize: true,\n                    width: '150px',\n                },\n                {\n                    property: 'totalPrice',\n                    label: this.$tc(\n                        'frosh-abandoned-carts.detail.columnTotalPrice'\n                    ),\n                    allowResize: true,\n                    width: '150px',\n                },\n            ];\n        },\n    },\n\n    created() {\n        this.loadAbandonedCart();\n    },\n\n    methods: {\n        async loadAbandonedCart() {\n            this.isLoading = true;\n\n            try {\n                this.abandonedCart = await this.abandonedCartRepository.get(\n                    this.abandonedCartId,\n                    Shopware.Context.api,\n                    this.criteria\n                );\n            } catch (error) {\n                console.error('Failed to load abandoned cart:', error);\n            } finally {\n                this.isLoading = false;\n            }\n        },\n\n        getCustomerName() {\n            if (!this.abandonedCart?.customer) {\n                return '-';\n            }\n            const customer = this.abandonedCart.customer;\n            return `${customer.firstName} ${customer.lastName} (${customer.email})`;\n        },\n\n        formatPrice(price) {\n            const currency = this.abandonedCart?.currencyIsoCode || 'EUR';\n            return new Intl.NumberFormat('de-DE', {\n                style: 'currency',\n                currency: currency,\n            }).format(price);\n        },\n\n        getProductName(lineItem) {\n            if (lineItem.product) {\n                return (\n                    lineItem.product.translated?.name || lineItem.product.name\n                );\n            }\n            return (\n                lineItem.label ||\n                this.$tc('frosh-abandoned-carts.detail.unknownProduct')\n            );\n        },\n    },\n});\n","{% block frosh_abandoned_carts_statistics %}\n<sw-page class=\"frosh-abandoned-carts-statistics\">\n    {% block frosh_abandoned_carts_statistics_smart_bar_header %}\n    <template #smart-bar-header>\n        <h2>\n            {{ $tc('frosh-abandoned-carts.statistics.title') }}\n        </h2>\n    </template>\n    {% endblock %}\n\n    {% block frosh_abandoned_carts_statistics_content %}\n    <template #content>\n        <template v-if=\"isLoading\">\n            <sw-skeleton variant=\"detail\"/>\n            <sw-skeleton variant=\"detail\"/>\n        </template>\n\n        <template v-else>\n            {% block frosh_abandoned_carts_statistics_summary %}\n            <div class=\"frosh-abandoned-carts-statistics__summary\">\n                <mt-card\n                    position-identifier=\"frosh-abandoned-carts-statistics-summary\"\n                >\n                    <div class=\"frosh-abandoned-carts-statistics__summary-grid\">\n                        {% block frosh_abandoned_carts_statistics_summary_total_count %}\n                        <div\n                            class=\"frosh-abandoned-carts-statistics__summary-item\"\n                        >\n                            <span\n                                class=\"frosh-abandoned-carts-statistics__summary-label\"\n                            >\n                                {{ $tc('frosh-abandoned-carts.statistics.totalCount') }}\n                            </span>\n                            <span\n                                class=\"frosh-abandoned-carts-statistics__summary-value\"\n                            >\n                                {{ totalCount }}\n                            </span>\n                        </div>\n                        {% endblock %}\n\n                        {% block frosh_abandoned_carts_statistics_summary_total_value %}\n                        <div\n                            class=\"frosh-abandoned-carts-statistics__summary-item\"\n                        >\n                            <span\n                                class=\"frosh-abandoned-carts-statistics__summary-label\"\n                            >\n                                {{ $tc('frosh-abandoned-carts.statistics.totalValue') }}\n                            </span>\n                            <span\n                                class=\"frosh-abandoned-carts-statistics__summary-value\"\n                            >\n                                {{ formatPrice(totalValue) }}\n                            </span>\n                        </div>\n                        {% endblock %}\n\n                        {% block frosh_abandoned_carts_statistics_summary_today_count %}\n                        <div\n                            class=\"frosh-abandoned-carts-statistics__summary-item\"\n                        >\n                            <span\n                                class=\"frosh-abandoned-carts-statistics__summary-label\"\n                            >\n                                {{ $tc('frosh-abandoned-carts.statistics.todayCount') }}\n                            </span>\n                            <span\n                                class=\"frosh-abandoned-carts-statistics__summary-value\"\n                            >\n                                {{ todayCount }}\n                            </span>\n                        </div>\n                        {% endblock %}\n\n                        {% block frosh_abandoned_carts_statistics_summary_today_value %}\n                        <div\n                            class=\"frosh-abandoned-carts-statistics__summary-item\"\n                        >\n                            <span\n                                class=\"frosh-abandoned-carts-statistics__summary-label\"\n                            >\n                                {{ $tc('frosh-abandoned-carts.statistics.todayValue') }}\n                            </span>\n                            <span\n                                class=\"frosh-abandoned-carts-statistics__summary-value\"\n                            >\n                                {{ formatPrice(todayValue) }}\n                            </span>\n                        </div>\n                        {% endblock %}\n                    </div>\n                </mt-card>\n            </div>\n            {% endblock %}\n\n            {% block frosh_abandoned_carts_statistics_charts %}\n            <template v-if=\"hasData\">\n                {% block frosh_abandoned_carts_statistics_chart_count %}\n                <sw-chart-card\n                    class=\"frosh-abandoned-carts-statistics__chart-count\"\n                    :available-ranges=\"availableRanges\"\n                    :card-subtitle=\"getCardSubtitle(countDateRange)\"\n                    :series=\"countSeries\"\n                    :options=\"chartOptionsCount\"\n                    :fill-empty-values=\"'day'\"\n                    :card-title=\"$tc('frosh-abandoned-carts.statistics.chartTitleCount')\"\n                    type=\"line\"\n                    sort\n                    position-identifier=\"frosh-abandoned-carts-statistics-chart-count\"\n                    @sw-chart-card-range-update=\"onCountRangeUpdate\"\n                >\n                    <template #range-option=\"{ range }\">\n                        {{ $tc(`frosh-abandoned-carts.statistics.dateRanges.${range}`) }}\n                    </template>\n                </sw-chart-card>\n                {% endblock %}\n\n                {% block frosh_abandoned_carts_statistics_chart_value %}\n                <sw-chart-card\n                    class=\"frosh-abandoned-carts-statistics__chart-value\"\n                    :available-ranges=\"availableRanges\"\n                    :card-subtitle=\"getCardSubtitle(valueDateRange)\"\n                    :series=\"valueSeries\"\n                    :options=\"chartOptionsValue\"\n                    :fill-empty-values=\"'day'\"\n                    :card-title=\"$tc('frosh-abandoned-carts.statistics.chartTitleValue')\"\n                    type=\"line\"\n                    sort\n                    position-identifier=\"frosh-abandoned-carts-statistics-chart-value\"\n                    @sw-chart-card-range-update=\"onValueRangeUpdate\"\n                >\n                    <template #range-option=\"{ range }\">\n                        {{ $tc(`frosh-abandoned-carts.statistics.dateRanges.${range}`) }}\n                    </template>\n                </sw-chart-card>\n                {% endblock %}\n            </template>\n\n            {% block frosh_abandoned_carts_statistics_empty_state %}\n            <sw-empty-state\n                v-else\n                :title=\"$tc('frosh-abandoned-carts.statistics.emptyStateTitle')\"\n            />\n            {% endblock %}\n            {% endblock %}\n        </template>\n    </template>\n    {% endblock %}\n</sw-page>\n{% endblock %}","import template from './frosh-abandoned-carts-statistics.html.twig';\nimport './frosh-abandoned-carts-statistics.scss';\n\nShopware.Component.register('frosh-abandoned-carts-statistics', {\n    template,\n\n    inject: ['froshAbandonedCartStatisticsService'],\n\n    data() {\n        return {\n            isLoading: true,\n            totalCount: 0,\n            totalValue: 0,\n            todayCount: 0,\n            todayValue: 0,\n            historyDataCount: null,\n            historyDataValue: null,\n            countDateRange: {\n                label: '30Days',\n                range: 30,\n            },\n            valueDateRange: {\n                label: '30Days',\n                range: 30,\n            },\n        };\n    },\n\n    computed: {\n        rangesValueMap() {\n            return [\n                { label: '30Days', range: 30 },\n                { label: '14Days', range: 14 },\n                { label: '7Days', range: 7 },\n            ];\n        },\n\n        availableRanges() {\n            return this.rangesValueMap.map((range) => range.label);\n        },\n\n        chartOptionsCount() {\n            return {\n                xaxis: {\n                    type: 'datetime',\n                    min: this.getDateAgo(this.countDateRange).getTime(),\n                    labels: {\n                        datetimeUTC: false,\n                    },\n                },\n                yaxis: {\n                    min: 0,\n                    tickAmount: 3,\n                    labels: {\n                        formatter: (value) => parseInt(value, 10),\n                    },\n                },\n            };\n        },\n\n        chartOptionsValue() {\n            return {\n                xaxis: {\n                    type: 'datetime',\n                    min: this.getDateAgo(this.valueDateRange).getTime(),\n                    labels: {\n                        datetimeUTC: false,\n                    },\n                },\n                yaxis: {\n                    min: 0,\n                    tickAmount: 5,\n                    labels: {\n                        formatter: (value) =>\n                            Shopware.Utils.format.currency(\n                                Number.parseFloat(value),\n                                this.systemCurrencyISOCode,\n                                2\n                            ),\n                    },\n                },\n            };\n        },\n\n        countSeries() {\n            if (!this.historyDataCount) {\n                return [];\n            }\n\n            const seriesData = this.historyDataCount.map((data) => ({\n                x: this.parseDate(data.date),\n                y: data.count,\n            }));\n\n            return [\n                {\n                    name: this.$tc(\n                        'frosh-abandoned-carts.statistics.chartLabelCount'\n                    ),\n                    data: seriesData,\n                },\n            ];\n        },\n\n        valueSeries() {\n            if (!this.historyDataValue) {\n                return [];\n            }\n\n            const seriesData = this.historyDataValue.map((data) => ({\n                x: this.parseDate(data.date),\n                y: data.value,\n            }));\n\n            return [\n                {\n                    name: this.$tc(\n                        'frosh-abandoned-carts.statistics.chartLabelValue'\n                    ),\n                    data: seriesData,\n                },\n            ];\n        },\n\n        systemCurrencyISOCode() {\n            return Shopware.Context.app.systemCurrencyISOCode;\n        },\n\n        currencyFilter() {\n            return Shopware.Filter.getByName('currency');\n        },\n\n        today() {\n            const today = Shopware.Utils.format.dateWithUserTimezone();\n            today.setHours(0, 0, 0, 0);\n            return today;\n        },\n\n        hasData() {\n            return this.historyDataCount && this.historyDataCount.length > 0;\n        },\n    },\n\n    created() {\n        this.loadStatistics();\n    },\n\n    methods: {\n        async loadStatistics() {\n            this.isLoading = true;\n\n            try {\n                const maxRange = Math.max(\n                    this.countDateRange.range,\n                    this.valueDateRange.range\n                );\n                const since = this.formatDateToISO(\n                    this.getDateAgo({ range: maxRange })\n                );\n                const timezone =\n                    Shopware.Store.get('session').currentUser?.timeZone ??\n                    'UTC';\n\n                const data =\n                    await this.froshAbandonedCartStatisticsService.getStatistics(\n                        since,\n                        timezone\n                    );\n\n                this.totalCount = data.totalCount;\n                this.totalValue = data.totalValue;\n                this.todayCount = data.todayCount;\n                this.todayValue = data.todayValue;\n                this.historyDataCount = data.dailyStats;\n                this.historyDataValue = data.dailyStats;\n            } catch (error) {\n                console.error('Failed to load statistics:', error);\n            } finally {\n                this.isLoading = false;\n            }\n        },\n\n        getDateAgo(range) {\n            const date = Shopware.Utils.format.dateWithUserTimezone();\n            date.setDate(date.getDate() - range.range);\n            date.setHours(0, 0, 0, 0);\n            return date;\n        },\n\n        formatDateToISO(date) {\n            return Shopware.Utils.format.toISODate(date, false);\n        },\n\n        parseDate(date) {\n            const parsedDate = new Date(\n                date\n                    .replace(/-/g, '/')\n                    .replace('T', ' ')\n                    .replace(/\\..*|\\+.*/, '')\n            );\n            return parsedDate.valueOf();\n        },\n\n        formatChartHeadlineDate(date) {\n            const lastKnownLang =\n                Shopware.Application.getContainer(\n                    'factory'\n                ).locale.getLastKnownLocale();\n            return date.toLocaleDateString(lastKnownLang, {\n                day: 'numeric',\n                month: 'short',\n            });\n        },\n\n        getCardSubtitle(range) {\n            return `${this.formatChartHeadlineDate(this.getDateAgo(range))} - ${this.formatChartHeadlineDate(this.today)}`;\n        },\n\n        async onCountRangeUpdate(rangeLabel) {\n            const range = this.rangesValueMap.find(\n                (item) => item.label === rangeLabel\n            );\n            if (!range) {\n                return;\n            }\n\n            this.countDateRange = range;\n            await this.loadStatistics();\n        },\n\n        async onValueRangeUpdate(rangeLabel) {\n            const range = this.rangesValueMap.find(\n                (item) => item.label === rangeLabel\n            );\n            if (!range) {\n                return;\n            }\n\n            this.valueDateRange = range;\n            await this.loadStatistics();\n        },\n\n        formatPrice(price) {\n            return this.currencyFilter(price, this.systemCurrencyISOCode, 2);\n        },\n    },\n});\n","{% block frosh_abandoned_carts_automation_list %}\n<sw-page class=\"frosh-abandoned-carts-automation-list\">\n    {% block frosh_abandoned_carts_automation_list_smart_bar_header %}\n    <template #smart-bar-header>\n        <h2>\n            {{ $tc('frosh-abandoned-carts.automations.title') }}\n            <span\n                v-if=\"!isLoading && automations\"\n                class=\"sw-page__smart-bar-amount\"\n            >\n                ({{ automations.total }})\n            </span>\n        </h2>\n    </template>\n    {% endblock %}\n\n    {% block frosh_abandoned_carts_automation_list_smart_bar_actions %}\n    <template #smart-bar-actions>\n        <mt-button\n            variant=\"primary\"\n            @click=\"$router.push({ name: 'frosh.abandoned.carts.automation.create' })\"\n        >\n            {{ $tc('frosh-abandoned-carts.automations.createButton') }}\n        </mt-button>\n    </template>\n    {% endblock %}\n\n    {% block frosh_abandoned_carts_automation_list_content %}\n    <template #content>\n        <div class=\"frosh-abandoned-carts-automation-list__content\">\n            {% block frosh_abandoned_carts_automation_list_empty_state %}\n            <sw-empty-state\n                v-if=\"!isLoading && (!automations || automations.total === 0)\"\n                :title=\"$tc('frosh-abandoned-carts.automations.emptyState')\"\n            />\n            {% endblock %}\n\n            {% block frosh_abandoned_carts_automation_list_grid %}\n            <sw-entity-listing\n                v-else\n                :repository=\"automationRepository\"\n                :items=\"automations\"\n                :columns=\"columns\"\n                :isLoading=\"isLoading\"\n                :allowEdit=\"true\"\n                :allowDelete=\"true\"\n                :allowInlineEdit=\"false\"\n                :disableDataFetching=\"true\"\n                :sortBy=\"sortBy\"\n                :sortDirection=\"sortDirection\"\n                detailRoute=\"frosh.abandoned.carts.automation.detail\"\n                @delete-item=\"onDelete\"\n            >\n                {% block frosh_abandoned_carts_automation_list_column_name %}\n                <template #column-name=\"{ item }\">\n                    <router-link\n                        :to=\"{ name: 'frosh.abandoned.carts.automation.detail', params: { id: item.id } }\"\n                    >\n                        {{ item.name }}\n                    </router-link>\n                </template>\n                {% endblock %}\n\n                {% block frosh_abandoned_carts_automation_list_column_active %}\n                <template #column-active=\"{ item }\">\n                    <mt-icon\n                        v-if=\"item.active\"\n                        name=\"regular-checkmark-xs\"\n                        size=\"16px\"\n                        color=\"#37d046\"\n                    />\n                    <mt-icon\n                        v-else\n                        name=\"regular-times-s\"\n                        size=\"16px\"\n                        color=\"#de294c\"\n                    />\n                </template>\n                {% endblock %}\n\n                {% block frosh_abandoned_carts_automation_list_column_conditions %}\n                <template #column-conditions=\"{ item }\">\n                    {{ getConditionsSummary(item) }}\n                </template>\n                {% endblock %}\n\n                {% block frosh_abandoned_carts_automation_list_column_actions %}\n                <template #column-actions=\"{ item }\">\n                    {{ getActionsSummary(item) }}\n                </template>\n                {% endblock %}\n\n                {% block frosh_abandoned_carts_automation_list_column_sales_channel %}\n                <template #column-salesChannel.name=\"{ item }\">\n                    {{ item.salesChannel ? item.salesChannel.name : $tc('frosh-abandoned-carts.automations.detail.salesChannelPlaceholder') }}\n                </template>\n                {% endblock %}\n\n                {% block frosh_abandoned_carts_automation_list_column_created_at %}\n                <template #column-createdAt=\"{ item }\">\n                    <sw-time-ago :date=\"item.createdAt\"/>\n                </template>\n                {% endblock %}\n            </sw-entity-listing>\n            {% endblock %}\n        </div>\n    </template>\n    {% endblock %}\n</sw-page>\n{% endblock %}","import template from './frosh-abandoned-carts-automation-list.html.twig';\n\nconst { Criteria } = Shopware.Data;\n\nShopware.Component.register('frosh-abandoned-carts-automation-list', {\n    template,\n\n    inject: ['repositoryFactory'],\n\n    data() {\n        return {\n            automations: null,\n            isLoading: true,\n            sortBy: 'priority',\n            sortDirection: 'DESC',\n        };\n    },\n\n    computed: {\n        automationRepository() {\n            return this.repositoryFactory.create(\n                'frosh_abandoned_cart_automation'\n            );\n        },\n\n        columns() {\n            return [\n                {\n                    property: 'name',\n                    label: this.$tc(\n                        'frosh-abandoned-carts.automations.columns.name'\n                    ),\n                    allowResize: true,\n                    primary: true,\n                },\n                {\n                    property: 'active',\n                    label: this.$tc(\n                        'frosh-abandoned-carts.automations.columns.active'\n                    ),\n                    allowResize: true,\n                    align: 'center',\n                    width: '100px',\n                },\n                {\n                    property: 'conditions',\n                    label: this.$tc(\n                        'frosh-abandoned-carts.automations.columns.conditions'\n                    ),\n                    allowResize: true,\n                    sortable: false,\n                },\n                {\n                    property: 'actions',\n                    label: this.$tc(\n                        'frosh-abandoned-carts.automations.columns.actions'\n                    ),\n                    allowResize: true,\n                    sortable: false,\n                },\n                {\n                    property: 'salesChannel.name',\n                    label: this.$tc(\n                        'frosh-abandoned-carts.automations.columns.salesChannel'\n                    ),\n                    allowResize: true,\n                },\n                {\n                    property: 'createdAt',\n                    label: this.$tc(\n                        'frosh-abandoned-carts.automations.columns.createdAt'\n                    ),\n                    allowResize: true,\n                },\n            ];\n        },\n\n        defaultCriteria() {\n            const criteria = new Criteria(1, 25);\n            criteria.addAssociation('salesChannel');\n            criteria.addSorting(Criteria.sort(this.sortBy, this.sortDirection));\n\n            return criteria;\n        },\n    },\n\n    created() {\n        this.loadAutomations();\n    },\n\n    methods: {\n        async loadAutomations() {\n            this.isLoading = true;\n\n            try {\n                this.automations = await this.automationRepository.search(\n                    this.defaultCriteria,\n                    Shopware.Context.api\n                );\n            } catch (error) {\n                console.error('Failed to load automations:', error);\n            } finally {\n                this.isLoading = false;\n            }\n        },\n\n        async onDelete(item) {\n            try {\n                await this.automationRepository.delete(\n                    item.id,\n                    Shopware.Context.api\n                );\n                await this.loadAutomations();\n            } catch (error) {\n                console.error('Failed to delete automation:', error);\n            }\n        },\n\n        getConditionsSummary(item) {\n            if (!item.conditions || item.conditions.length === 0) {\n                return '-';\n            }\n\n            const conditionLabels = {\n                cart_age: this.$tc(\n                    'frosh-abandoned-carts.automations.conditions.cart_age'\n                ),\n                cart_value: this.$tc(\n                    'frosh-abandoned-carts.automations.conditions.cart_value'\n                ),\n                automation_count: this.$tc(\n                    'frosh-abandoned-carts.automations.conditions.automation_count'\n                ),\n                time_since_last_automation: this.$tc(\n                    'frosh-abandoned-carts.automations.conditions.time_since_last_automation'\n                ),\n                customer_tag: this.$tc(\n                    'frosh-abandoned-carts.automations.conditions.customer_tag'\n                ),\n                line_item_count: this.$tc(\n                    'frosh-abandoned-carts.automations.conditions.line_item_count'\n                ),\n            };\n\n            return item.conditions\n                .map((c) => conditionLabels[c.type] || c.type)\n                .join(', ');\n        },\n\n        getActionsSummary(item) {\n            if (!item.actions || item.actions.length === 0) {\n                return '-';\n            }\n\n            const actionLabels = {\n                send_email: this.$tc(\n                    'frosh-abandoned-carts.automations.actions.send_email'\n                ),\n                generate_voucher: this.$tc(\n                    'frosh-abandoned-carts.automations.actions.generate_voucher'\n                ),\n                add_customer_tag: this.$tc(\n                    'frosh-abandoned-carts.automations.actions.add_customer_tag'\n                ),\n                remove_customer_tag: this.$tc(\n                    'frosh-abandoned-carts.automations.actions.remove_customer_tag'\n                ),\n                set_customer_custom_field: this.$tc(\n                    'frosh-abandoned-carts.automations.actions.set_customer_custom_field'\n                ),\n            };\n\n            return item.actions\n                .map((a) => actionLabels[a.type] || a.type)\n                .join(', ');\n        },\n    },\n});\n","{% block frosh_abandoned_carts_automation_detail %}\n<sw-page class=\"frosh-abandoned-carts-automation-detail\">\n    {% block frosh_abandoned_carts_automation_detail_smart_bar_header %}\n    <template #smart-bar-header>\n        <h2>\n            {{ isCreateMode ? $tc('frosh-abandoned-carts.automations.detail.newTitle') : $tc('frosh-abandoned-carts.automations.detail.title') }}\n        </h2>\n    </template>\n    {% endblock %}\n\n    {% block frosh_abandoned_carts_automation_detail_smart_bar_actions %}\n    <template #smart-bar-actions>\n        <mt-button\n            variant=\"secondary\"\n            @click=\"$router.push({ name: 'frosh.abandoned.carts.automations' })\"\n        >\n            {{ $tc('global.default.cancel') }}\n        </mt-button>\n        <mt-button\n            variant=\"secondary\"\n            :isLoading=\"isTestLoading\"\n            @click=\"testAutomation\"\n        >\n            {{ $tc('frosh-abandoned-carts.automations.detail.testButton') }}\n        </mt-button>\n        <mt-button\n            variant=\"primary\"\n            :isLoading=\"isLoading\"\n            @click=\"onSave\"\n        >\n            {{ $tc('global.default.save') }}\n        </mt-button>\n    </template>\n    {% endblock %}\n\n    {% block frosh_abandoned_carts_automation_detail_content %}\n    <template #content>\n        <sw-card-view v-if=\"automation\">\n            {% block frosh_abandoned_carts_automation_detail_card_general %}\n            <sw-card\n                position-identifier=\"frosh-abandoned-carts-automation-detail-general\"\n                :title=\"$tc('frosh-abandoned-carts.automations.detail.generalCard')\"\n                :isLoading=\"isLoading\"\n            >\n                <sw-container\n                    columns=\"1fr 1fr\"\n                    gap=\"16px\"\n                >\n                    <mt-text-field\n                        v-model=\"automation.name\"\n                        :label=\"$tc('frosh-abandoned-carts.automations.detail.nameLabel')\"\n                        :placeholder=\"$tc('frosh-abandoned-carts.automations.detail.namePlaceholder')\"\n                        required\n                    />\n                    <mt-number-field\n                        v-model=\"automation.priority\"\n                        :label=\"$tc('frosh-abandoned-carts.automations.detail.priorityLabel')\"\n                        :helpText=\"$tc('frosh-abandoned-carts.automations.detail.priorityHelpText')\"\n                        :min=\"1\"\n                    />\n                </sw-container>\n                <sw-container\n                    columns=\"1fr 1fr\"\n                    gap=\"16px\"\n                >\n                    <mt-switch\n                        v-model=\"automation.active\"\n                        :label=\"$tc('frosh-abandoned-carts.automations.detail.activeLabel')\"\n                    />\n                    <sw-entity-single-select\n                        v-model:value=\"automation.salesChannelId\"\n                        entity=\"sales_channel\"\n                        :label=\"$tc('frosh-abandoned-carts.automations.detail.salesChannelLabel')\"\n                        :placeholder=\"$tc('frosh-abandoned-carts.automations.detail.salesChannelPlaceholder')\"\n                    />\n                </sw-container>\n            </sw-card>\n            {% endblock %}\n\n            {% block frosh_abandoned_carts_automation_detail_card_conditions %}\n            <sw-card\n                position-identifier=\"frosh-abandoned-carts-automation-detail-conditions\"\n                :title=\"$tc('frosh-abandoned-carts.automations.detail.conditionsCard')\"\n                :isLoading=\"isLoading\"\n            >\n                <div class=\"frosh-abandoned-carts-automation-detail__conditions\">\n                    {% block frosh_abandoned_carts_automation_detail_conditions_list %}\n                    <div\n                        v-for=\"(condition, index) in automation.conditions\"\n                        :key=\"index\"\n                        class=\"frosh-abandoned-carts-automation-detail__condition-row\"\n                    >\n                        <sw-container\n                            columns=\"200px 1fr auto\"\n                            gap=\"16px\"\n                        >\n                            <mt-select\n                                v-model=\"condition.type\"\n                                :label=\"$tc('frosh-abandoned-carts.automations.detail.conditionType')\"\n                                :options=\"conditionTypeOptions\"\n                            />\n                            <div\n                                class=\"frosh-abandoned-carts-automation-detail__condition-config\"\n                            >\n                                <sw-container\n                                    columns=\"repeat(auto-fit, minmax(120px, 1fr))\"\n                                    gap=\"8px\"\n                                >\n                                    <mt-select\n                                        v-if=\"needsValueInput(condition.type)\"\n                                        v-model=\"condition.operator\"\n                                        :label=\"$tc('frosh-abandoned-carts.automations.detail.operator')\"\n                                        :options=\"operatorOptions\"\n                                    />\n                                    <mt-number-field\n                                        v-if=\"needsValueInput(condition.type)\"\n                                        v-model=\"condition.value\"\n                                        :label=\"$tc('frosh-abandoned-carts.automations.detail.value')\"\n                                    />\n                                    <mt-select\n                                        v-if=\"needsUnitInput(condition.type)\"\n                                        v-model=\"condition.unit\"\n                                        :label=\"$tc('frosh-abandoned-carts.automations.detail.unit')\"\n                                        :options=\"unitOptions\"\n                                    />\n                                    <sw-entity-single-select\n                                        v-if=\"needsTagInput(condition.type)\"\n                                        v-model:value=\"condition.tagId\"\n                                        entity=\"tag\"\n                                        :label=\"$tc('frosh-abandoned-carts.automations.detail.tagId')\"\n                                    />\n                                    <mt-switch\n                                        v-model=\"condition.negate\"\n                                        :label=\"$tc('frosh-abandoned-carts.automations.detail.negate')\"\n                                    />\n                                </sw-container>\n                            </div>\n                            <mt-button\n                                square\n                                size=\"small\"\n                                variant=\"secondary\"\n                                @click=\"removeCondition(index)\"\n                            >\n                                <mt-icon\n                                    name=\"regular-trash\"\n                                    size=\"16px\"\n                                />\n                            </mt-button>\n                        </sw-container>\n                    </div>\n                    {% endblock %}\n\n                    {% block frosh_abandoned_carts_automation_detail_conditions_add %}\n                    <mt-button\n                        variant=\"secondary\"\n                        size=\"small\"\n                        @click=\"addCondition\"\n                    >\n                        {{ $tc('frosh-abandoned-carts.automations.detail.addCondition') }}\n                    </mt-button>\n                    {% endblock %}\n                </div>\n            </sw-card>\n            {% endblock %}\n\n            {% block frosh_abandoned_carts_automation_detail_card_actions %}\n            <sw-card\n                position-identifier=\"frosh-abandoned-carts-automation-detail-actions\"\n                :title=\"$tc('frosh-abandoned-carts.automations.detail.actionsCard')\"\n                :isLoading=\"isLoading\"\n            >\n                <div class=\"frosh-abandoned-carts-automation-detail__actions\">\n                    {% block frosh_abandoned_carts_automation_detail_actions_list %}\n                    <div\n                        v-for=\"(action, index) in automation.actions\"\n                        :key=\"index\"\n                        class=\"frosh-abandoned-carts-automation-detail__action-row\"\n                    >\n                        <sw-container\n                            columns=\"200px 1fr auto\"\n                            gap=\"16px\"\n                        >\n                            <mt-select\n                                v-model=\"action.type\"\n                                :label=\"$tc('frosh-abandoned-carts.automations.detail.actionType')\"\n                                :options=\"actionTypeOptions\"\n                            />\n                            <div\n                                class=\"frosh-abandoned-carts-automation-detail__action-config\"\n                            >\n                                <sw-container\n                                    columns=\"repeat(auto-fit, minmax(200px, 1fr))\"\n                                    gap=\"8px\"\n                                >\n                                    <sw-entity-single-select\n                                        v-if=\"needsMailTemplateInput(action.type)\"\n                                        v-model:value=\"action.mailTemplateId\"\n                                        entity=\"mail_template\"\n                                        label-property=\"description\"\n                                        :label=\"$tc('frosh-abandoned-carts.automations.detail.mailTemplateId')\"\n                                    />\n                                    <sw-entity-single-select\n                                        v-if=\"needsPromotionInput(action.type)\"\n                                        v-model:value=\"action.promotionId\"\n                                        entity=\"promotion\"\n                                        :label=\"$tc('frosh-abandoned-carts.automations.detail.promotionId')\"\n                                    />\n                                    <mt-text-field\n                                        v-if=\"needsPromotionInput(action.type)\"\n                                        v-model=\"action.codePattern\"\n                                        :label=\"$tc('frosh-abandoned-carts.automations.detail.codePattern')\"\n                                    />\n                                    <sw-entity-single-select\n                                        v-if=\"needsTagActionInput(action.type)\"\n                                        v-model:value=\"action.tagId\"\n                                        entity=\"tag\"\n                                        :label=\"$tc('frosh-abandoned-carts.automations.detail.tagId')\"\n                                    />\n                                    <mt-text-field\n                                        v-if=\"needsCustomFieldInput(action.type)\"\n                                        v-model=\"action.customFieldName\"\n                                        :label=\"$tc('frosh-abandoned-carts.automations.detail.customFieldName')\"\n                                    />\n                                    <mt-text-field\n                                        v-if=\"needsCustomFieldInput(action.type)\"\n                                        v-model=\"action.value\"\n                                        :label=\"$tc('frosh-abandoned-carts.automations.detail.value')\"\n                                    />\n                                </sw-container>\n                            </div>\n                            <mt-button\n                                square\n                                size=\"small\"\n                                variant=\"secondary\"\n                                @click=\"removeAction(index)\"\n                            >\n                                <mt-icon\n                                    name=\"regular-trash\"\n                                    size=\"16px\"\n                                />\n                            </mt-button>\n                        </sw-container>\n                    </div>\n                    {% endblock %}\n\n                    {% block frosh_abandoned_carts_automation_detail_actions_add %}\n                    <mt-button\n                        variant=\"secondary\"\n                        size=\"small\"\n                        @click=\"addAction\"\n                    >\n                        {{ $tc('frosh-abandoned-carts.automations.detail.addAction') }}\n                    </mt-button>\n                    {% endblock %}\n                </div>\n            </sw-card>\n            {% endblock %}\n\n            {% block frosh_abandoned_carts_automation_detail_test_modal %}\n            <sw-modal\n                v-if=\"showTestModal\"\n                :title=\"$tc('frosh-abandoned-carts.automations.detail.testModalTitle')\"\n                @modal-close=\"closeTestModal\"\n            >\n                <div\n                    v-if=\"testResults\"\n                    class=\"frosh-abandoned-carts-automation-detail__test-results\"\n                >\n                    <div\n                        class=\"frosh-abandoned-carts-automation-detail__test-summary\"\n                    >\n                        <strong>\n                            {{ $tc('frosh-abandoned-carts.automations.detail.testMatchingCount', { count: testResults.matchingCount, total: testResults.totalCount }) }}\n                        </strong>\n                    </div>\n                    <div\n                        v-if=\"testResults.matchingCarts.length > 0\"\n                        class=\"frosh-abandoned-carts-automation-detail__test-matching\"\n                    >\n                        <h4>\n                            {{ $tc('frosh-abandoned-carts.automations.detail.testMatchingCarts') }}\n                        </h4>\n                        <table\n                            class=\"frosh-abandoned-carts-automation-detail__test-table\"\n                        >\n                            <thead>\n                                <tr>\n                                    <th>\n                                        {{ $tc('frosh-abandoned-carts.automations.detail.testCustomer') }}\n                                    </th>\n                                    <th>\n                                        {{ $tc('frosh-abandoned-carts.automations.detail.testValue') }}\n                                    </th>\n                                    <th>\n                                        {{ $tc('frosh-abandoned-carts.automations.detail.testCreatedAt') }}\n                                    </th>\n                                    <th>\n                                        {{ $tc('frosh-abandoned-carts.automations.detail.testAutomationRuns') }}\n                                    </th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                <tr\n                                    v-for=\"cart in testResults.matchingCarts\"\n                                    :key=\"cart.id\"\n                                >\n                                    <td>\n                                        {{ cart.customerName }}\n                                        <br/>\n                                        <small>{{ cart.customerEmail }}</small>\n                                    </td>\n                                    <td>\n                                        {{ formatPrice(cart.totalPrice, cart.currencyIsoCode) }}\n                                    </td>\n                                    <td>{{ cart.createdAt }}</td>\n                                    <td>{{ cart.automationCount }}</td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                    <div\n                        v-else\n                        class=\"frosh-abandoned-carts-automation-detail__test-no-match\"\n                    >\n                        {{ $tc('frosh-abandoned-carts.automations.detail.testNoMatches') }}\n                    </div>\n                </div>\n                <template #modal-footer>\n                    <mt-button\n                        variant=\"primary\"\n                        @click=\"closeTestModal\"\n                    >\n                        {{ $tc('global.default.close') }}\n                    </mt-button>\n                </template>\n            </sw-modal>\n            {% endblock %}\n        </sw-card-view>\n        <sw-loader v-else/>\n    </template>\n    {% endblock %}\n</sw-page>\n{% endblock %}","import template from './frosh-abandoned-carts-automation-detail.html.twig';\nimport './frosh-abandoned-carts-automation-detail.scss';\n\nconst { Criteria } = Shopware.Data;\n\nShopware.Component.register('frosh-abandoned-carts-automation-detail', {\n    template,\n\n    inject: ['repositoryFactory', 'froshAbandonedCartAutomationApiService'],\n\n    props: {\n        automationId: {\n            type: String,\n            required: false,\n            default: null,\n        },\n    },\n\n    data() {\n        return {\n            automation: null,\n            isLoading: false,\n            isSaveSuccessful: false,\n            testResults: null,\n            isTestLoading: false,\n            showTestModal: false,\n        };\n    },\n\n    computed: {\n        automationRepository() {\n            return this.repositoryFactory.create(\n                'frosh_abandoned_cart_automation'\n            );\n        },\n\n        isCreateMode() {\n            return !this.automationId;\n        },\n\n        criteria() {\n            const criteria = new Criteria();\n            criteria.addAssociation('salesChannel');\n\n            return criteria;\n        },\n\n        conditionTypeOptions() {\n            return [\n                {\n                    id: 'cart_age',\n                    value: 'cart_age',\n                    label: this.$tc(\n                        'frosh-abandoned-carts.automations.conditions.cart_age'\n                    ),\n                },\n                {\n                    id: 'cart_value',\n                    value: 'cart_value',\n                    label: this.$tc(\n                        'frosh-abandoned-carts.automations.conditions.cart_value'\n                    ),\n                },\n                {\n                    id: 'automation_count',\n                    value: 'automation_count',\n                    label: this.$tc(\n                        'frosh-abandoned-carts.automations.conditions.automation_count'\n                    ),\n                },\n                {\n                    id: 'time_since_last_automation',\n                    value: 'time_since_last_automation',\n                    label: this.$tc(\n                        'frosh-abandoned-carts.automations.conditions.time_since_last_automation'\n                    ),\n                },\n                {\n                    id: 'customer_tag',\n                    value: 'customer_tag',\n                    label: this.$tc(\n                        'frosh-abandoned-carts.automations.conditions.customer_tag'\n                    ),\n                },\n                {\n                    id: 'line_item_count',\n                    value: 'line_item_count',\n                    label: this.$tc(\n                        'frosh-abandoned-carts.automations.conditions.line_item_count'\n                    ),\n                },\n            ];\n        },\n\n        actionTypeOptions() {\n            return [\n                {\n                    id: 'send_email',\n                    value: 'send_email',\n                    label: this.$tc(\n                        'frosh-abandoned-carts.automations.actions.send_email'\n                    ),\n                },\n                {\n                    id: 'generate_voucher',\n                    value: 'generate_voucher',\n                    label: this.$tc(\n                        'frosh-abandoned-carts.automations.actions.generate_voucher'\n                    ),\n                },\n                {\n                    id: 'add_customer_tag',\n                    value: 'add_customer_tag',\n                    label: this.$tc(\n                        'frosh-abandoned-carts.automations.actions.add_customer_tag'\n                    ),\n                },\n                {\n                    id: 'remove_customer_tag',\n                    value: 'remove_customer_tag',\n                    label: this.$tc(\n                        'frosh-abandoned-carts.automations.actions.remove_customer_tag'\n                    ),\n                },\n                {\n                    id: 'set_customer_custom_field',\n                    value: 'set_customer_custom_field',\n                    label: this.$tc(\n                        'frosh-abandoned-carts.automations.actions.set_customer_custom_field'\n                    ),\n                },\n            ];\n        },\n\n        operatorOptions() {\n            return [\n                { id: 'gt', value: 'gt', label: '>' },\n                { id: 'gte', value: 'gte', label: '>=' },\n                { id: 'lt', value: 'lt', label: '<' },\n                { id: 'lte', value: 'lte', label: '<=' },\n                { id: 'eq', value: 'eq', label: '=' },\n                { id: 'neq', value: 'neq', label: '!=' },\n            ];\n        },\n\n        unitOptions() {\n            return [\n                {\n                    id: 'hours',\n                    value: 'hours',\n                    label: this.$tc(\n                        'frosh-abandoned-carts.automations.detail.hours'\n                    ),\n                },\n                {\n                    id: 'days',\n                    value: 'days',\n                    label: this.$tc(\n                        'frosh-abandoned-carts.automations.detail.days'\n                    ),\n                },\n            ];\n        },\n    },\n\n    created() {\n        if (this.isCreateMode) {\n            this.createAutomation();\n        } else {\n            this.loadAutomation();\n        }\n    },\n\n    methods: {\n        createAutomation() {\n            this.automation = this.automationRepository.create(\n                Shopware.Context.api\n            );\n            this.automation.active = false;\n            this.automation.priority = 1;\n            this.automation.conditions = [];\n            this.automation.actions = [];\n        },\n\n        async loadAutomation() {\n            this.isLoading = true;\n\n            try {\n                this.automation = await this.automationRepository.get(\n                    this.automationId,\n                    Shopware.Context.api,\n                    this.criteria\n                );\n\n                // Ensure conditions is always an array\n                if (!Array.isArray(this.automation.conditions)) {\n                    this.automation.conditions = [];\n                }\n                // Ensure actions is always an array\n                if (!Array.isArray(this.automation.actions)) {\n                    this.automation.actions = [];\n                }\n            } catch (error) {\n                console.error('Failed to load automation:', error);\n            } finally {\n                this.isLoading = false;\n            }\n        },\n\n        async onSave() {\n            this.isLoading = true;\n            this.isSaveSuccessful = false;\n\n            try {\n                await this.automationRepository.save(\n                    this.automation,\n                    Shopware.Context.api\n                );\n                this.isSaveSuccessful = true;\n\n                if (this.isCreateMode) {\n                    this.$router.push({\n                        name: 'frosh.abandoned.carts.automation.detail',\n                        params: { id: this.automation.id },\n                    });\n                }\n            } catch (error) {\n                console.error('Failed to save automation:', error);\n            } finally {\n                this.isLoading = false;\n            }\n        },\n\n        addCondition() {\n            if (!Array.isArray(this.automation.conditions)) {\n                this.automation.conditions = [];\n            }\n            this.automation.conditions.push({\n                type: 'cart_age',\n                operator: 'gte',\n                value: 24,\n                unit: 'hours',\n                negate: false,\n            });\n        },\n\n        removeCondition(index) {\n            if (Array.isArray(this.automation.conditions)) {\n                this.automation.conditions.splice(index, 1);\n            }\n        },\n\n        addAction() {\n            if (!Array.isArray(this.automation.actions)) {\n                this.automation.actions = [];\n            }\n            this.automation.actions.push({\n                type: 'send_email',\n                mailTemplateId: null,\n                promotionId: null,\n                codePattern: 'CART-%s%s%d%d',\n                tagId: null,\n                customFieldName: '',\n                value: '',\n            });\n        },\n\n        removeAction(index) {\n            if (Array.isArray(this.automation.actions)) {\n                this.automation.actions.splice(index, 1);\n            }\n        },\n\n        getConditionTypeLabel(type) {\n            const found = this.conditionTypeOptions.find(\n                (c) => c.value === type\n            );\n            return found ? found.label : type;\n        },\n\n        getActionTypeLabel(type) {\n            const found = this.actionTypeOptions.find((a) => a.value === type);\n            return found ? found.label : type;\n        },\n\n        needsValueInput(conditionType) {\n            return [\n                'cart_age',\n                'cart_value',\n                'automation_count',\n                'time_since_last_automation',\n                'line_item_count',\n            ].includes(conditionType);\n        },\n\n        needsUnitInput(conditionType) {\n            return ['cart_age', 'time_since_last_automation'].includes(\n                conditionType\n            );\n        },\n\n        needsTagInput(conditionType) {\n            return conditionType === 'customer_tag';\n        },\n\n        needsMailTemplateInput(actionType) {\n            return actionType === 'send_email';\n        },\n\n        needsPromotionInput(actionType) {\n            return actionType === 'generate_voucher';\n        },\n\n        needsTagActionInput(actionType) {\n            return ['add_customer_tag', 'remove_customer_tag'].includes(\n                actionType\n            );\n        },\n\n        needsCustomFieldInput(actionType) {\n            return actionType === 'set_customer_custom_field';\n        },\n\n        async testAutomation() {\n            this.isTestLoading = true;\n            this.testResults = null;\n\n            try {\n                this.testResults =\n                    await this.froshAbandonedCartAutomationApiService.testAutomation(\n                        this.automation.conditions || [],\n                        this.automation.salesChannelId\n                    );\n                this.showTestModal = true;\n            } catch (error) {\n                console.error('Failed to test automation:', error);\n            } finally {\n                this.isTestLoading = false;\n            }\n        },\n\n        closeTestModal() {\n            this.showTestModal = false;\n            this.testResults = null;\n        },\n\n        formatPrice(price, currencyIsoCode) {\n            return new Intl.NumberFormat('en-US', {\n                style: 'currency',\n                currency: currencyIsoCode || 'EUR',\n            }).format(price);\n        },\n    },\n});\n","Shopware.Service('privileges').addPrivilegeMappingEntry({\n    category: 'additional_permissions',\n    parent: null,\n    key: 'frosh_abandoned_carts',\n    roles: {\n        frosh_abandoned_carts: {\n            privileges: [\n                'frosh_abandoned_carts:read',\n                'frosh_abandoned_cart:read',\n                'frosh_abandoned_cart_line_item:read',\n            ],\n            dependencies: [],\n        },\n    },\n});\n","import './page/frosh-abandoned-carts-list';\nimport './page/frosh-abandoned-carts-detail';\nimport './page/frosh-abandoned-carts-statistics';\nimport './page/frosh-abandoned-carts-automation-list';\nimport './page/frosh-abandoned-carts-automation-detail';\nimport './acl';\n\nShopware.Module.register('frosh-abandoned-carts', {\n    type: 'plugin',\n    name: 'frosh-abandoned-carts',\n    title: 'frosh-abandoned-carts.general.title',\n    description: 'frosh-abandoned-carts.general.description',\n    color: '#ff6b35',\n    icon: 'regular-shopping-cart',\n\n    routes: {\n        list: {\n            component: 'frosh-abandoned-carts-list',\n            path: 'list',\n            meta: {\n                privilege: 'frosh_abandoned_carts:read',\n            },\n        },\n        detail: {\n            component: 'frosh-abandoned-carts-detail',\n            path: 'detail/:id',\n            meta: {\n                privilege: 'frosh_abandoned_carts:read',\n                parentPath: 'frosh.abandoned.carts.list',\n            },\n            props: {\n                default: (route) => ({\n                    abandonedCartId: route.params.id,\n                }),\n            },\n        },\n        statistics: {\n            component: 'frosh-abandoned-carts-statistics',\n            path: 'statistics',\n            meta: {\n                privilege: 'frosh_abandoned_carts:read',\n                parentPath: 'frosh.abandoned.carts.list',\n            },\n        },\n        automations: {\n            component: 'frosh-abandoned-carts-automation-list',\n            path: 'automations',\n            meta: {\n                privilege: 'frosh_abandoned_carts:read',\n                parentPath: 'frosh.abandoned.carts.list',\n            },\n        },\n        'automation.detail': {\n            component: 'frosh-abandoned-carts-automation-detail',\n            path: 'automations/detail/:id',\n            meta: {\n                privilege: 'frosh_abandoned_carts:read',\n                parentPath: 'frosh.abandoned.carts.automations',\n            },\n            props: {\n                default: (route) => ({\n                    automationId: route.params.id,\n                }),\n            },\n        },\n        'automation.create': {\n            component: 'frosh-abandoned-carts-automation-detail',\n            path: 'automations/create',\n            meta: {\n                privilege: 'frosh_abandoned_carts:read',\n                parentPath: 'frosh.abandoned.carts.automations',\n            },\n        },\n    },\n\n    navigation: [\n        {\n            id: 'frosh-abandoned-carts',\n            label: 'frosh-abandoned-carts.general.title',\n            color: '#ff6b35',\n            icon: 'regular-shopping-cart',\n            parent: 'sw-customer',\n            position: 100,\n            privilege: 'frosh_abandoned_carts:read',\n        },\n        {\n            path: 'frosh.abandoned.carts.list',\n            label: 'frosh-abandoned-carts.general.overview',\n            color: '#ff6b35',\n            parent: 'frosh-abandoned-carts',\n            privilege: 'frosh_abandoned_carts:read',\n        },\n        {\n            path: 'frosh.abandoned.carts.statistics',\n            label: 'frosh-abandoned-carts.general.statistics',\n            color: '#ff6b35',\n            parent: 'frosh-abandoned-carts',\n            privilege: 'frosh_abandoned_carts:read',\n        },\n        {\n            id: 'frosh-abandoned-carts-automations',\n            path: 'frosh.abandoned.carts.automations',\n            label: 'frosh-abandoned-carts.automations.title',\n            color: '#ff6b35',\n            parent: 'frosh-abandoned-carts',\n            privilege: 'frosh_abandoned_carts:read',\n        },\n    ],\n});\n","const ApiService = Shopware.Classes.ApiService;\n\nclass AbandonedCartStatisticsService extends ApiService {\n    constructor(\n        httpClient,\n        loginService,\n        apiEndpoint = 'frosh-abandoned-cart'\n    ) {\n        super(httpClient, loginService, apiEndpoint);\n        this.name = 'froshAbandonedCartStatisticsService';\n    }\n\n    getStatistics(since, timezone) {\n        return this.httpClient\n            .get(`/_action/${this.apiEndpoint}/statistics`, {\n                params: { since, timezone },\n                headers: this.getBasicHeaders(),\n            })\n            .then((response) => ApiService.handleResponse(response));\n    }\n}\n\nexport default AbandonedCartStatisticsService;\n","const ApiService = Shopware.Classes.ApiService;\n\nexport default class FroshAbandonedCartAutomationApiService extends ApiService {\n    constructor(\n        httpClient,\n        loginService,\n        apiEndpoint = 'frosh-abandoned-cart'\n    ) {\n        super(httpClient, loginService, apiEndpoint);\n        this.name = 'froshAbandonedCartAutomationApiService';\n    }\n\n    testAutomation(conditions, salesChannelId) {\n        const headers = this.getBasicHeaders();\n\n        return this.httpClient\n            .post(\n                '/_action/frosh-abandoned-cart/automation/test',\n                {\n                    conditions,\n                    salesChannelId,\n                },\n                {\n                    headers,\n                }\n            )\n            .then((response) => {\n                return ApiService.handleResponse(response);\n            });\n    }\n}\n","import './module/frosh-abandoned-carts';\nimport AbandonedCartStatisticsService from './service/abandoned-cart-statistics.service';\nimport FroshAbandonedCartAutomationApiService from './service/frosh-abandoned-cart-automation.api.service';\n\nconst { Application } = Shopware;\n\nApplication.addServiceProvider(\n    'froshAbandonedCartStatisticsService',\n    (container) => {\n        const initContainer = Application.getContainer('init');\n        return new AbandonedCartStatisticsService(\n            initContainer.httpClient,\n            container.loginService\n        );\n    }\n);\n\nApplication.addServiceProvider(\n    'froshAbandonedCartAutomationApiService',\n    (container) => {\n        const initContainer = Application.getContainer('init');\n        return new FroshAbandonedCartAutomationApiService(\n            initContainer.httpClient,\n            container.loginService\n        );\n    }\n);\n"],"names":["template$4","Mixin","Criteria","template","criteria","filter","result","error","item","price","currencyIsoCode","template$3","_a","customer","currency","lineItem","template$2","range","value","seriesData","data","today","maxRange","since","timezone","date","lastKnownLang","rangeLabel","template$1","conditionLabels","c","actionLabels","a","index","type","found","conditionType","actionType","route","ApiService","AbandonedCartStatisticsService","httpClient","loginService","apiEndpoint","response","FroshAbandonedCartAutomationApiService","conditions","salesChannelId","headers","Application","container","initContainer"],"mappings":"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"}